{
  "id": "keyboard-shortcut-hooks",
  "title": "React Keyboard Shortcut Hooks Pattern",
  "category": "patterns",
  "createdAt": "2026-01-28T12:00:00.000Z",
  "tags": ["react", "hooks", "keyboard", "shortcuts"],
  "content": "## Pattern: Keyboard Shortcuts in React/Electron\n\n### Problem\nImplement global keyboard shortcuts that work across the app without interfering with input fields.\n\n### Solution\nCreate custom hooks that register document-level event listeners.\n\n### Implementation\n```typescript\nimport { useEffect } from 'react'\n\nexport function useSidebarShortcuts() {\n  const toggleSidebar = useTikiStore((state) => state.toggleSidebar)\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Skip if typing in input/textarea\n      const target = e.target as HTMLElement\n      if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') return\n\n      // Ctrl+B to toggle sidebar\n      if ((e.ctrlKey || e.metaKey) && e.key === 'b') {\n        e.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyDown)\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [toggleSidebar])\n}\n```\n\n### Key Files\n- `src/renderer/src/hooks/useSidebarShortcuts.ts` - Sidebar toggle (Ctrl+B)\n- `src/renderer/src/hooks/useTerminalShortcuts.ts` - Terminal shortcuts (Ctrl+T, Ctrl+W)\n\n### Multiple Shortcuts in One Hook\n```typescript\nuseEffect(() => {\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.ctrlKey || e.metaKey) {\n      switch (e.key) {\n        case 't': createTerminal(); break\n        case 'w': closeTerminal(); break\n        case 'Tab': e.shiftKey ? prevTerminal() : nextTerminal(); break\n      }\n    }\n  }\n  // ...\n}, [createTerminal, closeTerminal])\n```\n\n### Gotchas\n- Always check for input/textarea to avoid capturing typing\n- Use `e.preventDefault()` to stop browser defaults (Ctrl+W closes tab)\n- Include all store actions in dependency array\n- Test with `@testing-library/user-event` for keyboard simulation",
  "relatedIssues": [3, 5]
}
