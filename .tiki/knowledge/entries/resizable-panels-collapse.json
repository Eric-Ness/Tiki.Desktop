{
  "id": "resizable-panels-collapse",
  "title": "Resizable Panels Collapse/Expand Pattern",
  "category": "patterns",
  "createdAt": "2026-01-28T12:00:00.000Z",
  "tags": ["react", "react-resizable-panels", "ui", "layout"],
  "content": "## Pattern: Collapsible Panels with react-resizable-panels\n\n### Problem\nImplement collapsible sidebar/panels with smooth animations using react-resizable-panels.\n\n### Solution\nUse ImperativePanelHandle ref to programmatically collapse/expand panels.\n\n### Implementation\n```typescript\nimport { Panel, PanelGroup, ImperativePanelHandle } from 'react-resizable-panels'\nimport { useRef } from 'react'\n\nfunction App() {\n  const sidebarPanelRef = useRef<ImperativePanelHandle>(null)\n  const toggleSidebar = useTikiStore((state) => state.toggleSidebar)\n\n  // Toggle function in store calls panel methods\n  const handleToggle = () => {\n    const panel = sidebarPanelRef.current\n    if (panel) {\n      if (panel.isCollapsed()) {\n        panel.expand()\n      } else {\n        panel.collapse()\n      }\n    }\n    toggleSidebar()\n  }\n\n  return (\n    <PanelGroup direction=\"horizontal\">\n      <Panel \n        ref={sidebarPanelRef}\n        defaultSize={20}\n        minSize={10}\n        collapsible={true}\n        collapsedSize={0}\n      >\n        <Sidebar />\n      </Panel>\n      <PanelResizeHandle />\n      <Panel><MainContent /></Panel>\n    </PanelGroup>\n  )\n}\n```\n\n### Key Files\n- `src/renderer/src/App.tsx` - Panel layout with refs\n- `src/renderer/src/hooks/useSidebarShortcuts.ts` - Keyboard toggle\n\n### Key Props\n- `collapsible={true}` - Enable collapse\n- `collapsedSize={0}` - Fully collapse (no min width)\n- `minSize` - Minimum when not collapsed\n- `defaultSize` - Initial size percentage\n\n### Gotchas\n- Panel sizes are percentages, not pixels\n- Need to track collapsed state separately for keyboard shortcuts\n- ImperativePanelHandle methods: collapse(), expand(), isCollapsed()",
  "relatedIssues": [5]
}
