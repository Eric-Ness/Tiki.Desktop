# CONVENTIONS.md Generation

Generate coding conventions documentation by analyzing naming patterns, file organization, and code style.

## Analysis Steps

### 1. Analyze Naming Patterns

```
# File naming patterns
Glob: **/*.ts, **/*.tsx, **/*.js, **/*.jsx

# Import/export styles
Grep: "^import " --type ts
Grep: "^export (default |const |function |class |interface |type )" --type ts
```

Detect file naming conventions:
- `kebab-case`: user-service.ts
- `camelCase`: userService.ts
- `PascalCase`: UserService.ts
- `snake_case`: user_service.ts

### 2. Analyze Code Patterns

```
# Variable and function patterns
Grep: "^(const|let|var)\s+\w+" --type ts
Grep: "^(export\s+)?(async\s+)?function\s+\w+" --type ts
Grep: "^(export\s+)?const\s+\w+\s*=\s*(async\s+)?\(" --type ts

# Class and type definitions
Grep: "^(export\s+)?(default\s+)?class\s+\w+" --type ts
Grep: "^(export\s+)?(interface|type)\s+\w+" --type ts

# Comment styles
Grep: "^\s*/\*\*" --type ts  # JSDoc
Grep: "^\s*//" --type ts     # Single-line
```

### 3. Analyze Folder Structure

```bash
find . -type d -maxdepth 3 | grep -v node_modules | grep -v .git | grep -v dist
```

Look for patterns:
- Feature-based: src/features/auth/, src/features/dashboard/
- Layer-based: src/controllers/, src/services/, src/repositories/
- Domain-driven: src/users/, src/products/

## Output Template

Create `.tiki/CONVENTIONS.md`:

```markdown
# Code Conventions

> Auto-generated by Tiki on {date}. Last updated: {date}.

## Naming Conventions

| Element | Convention | Example |
|---------|------------|---------|
| Files (components) | {detected} | {example} |
| Files (utilities) | {detected} | {example} |
| Variables | {detected} | {example} |
| Functions | {detected} | {example} |
| Classes | {detected} | {example} |
| Interfaces/Types | {detected} | {example} |

## File Organization

### Directory Structure

| Directory | Purpose | Example Files |
|-----------|---------|---------------|
| {dir} | {purpose} | {files} |

### File Naming Patterns

| File Type | Pattern | Example |
|-----------|---------|---------|
| Components | {pattern} | {example} |
| Services | {pattern} | {example} |
| Tests | {pattern} | {example} |

## Import/Export Patterns

### Import Organization
1. External library imports
2. Internal absolute imports
3. Relative imports
4. Type imports
5. Style imports

### Export Patterns

| Pattern | Usage |
|---------|-------|
| Named exports | {usage} |
| Default exports | {usage} |
| Barrel exports | {usage} |

## Code Style

### Function Patterns
- Arrow functions: {usage}
- Function declarations: {usage}
- Async/await: {usage}

### Comment Conventions
- JSDoc: {usage}
- Single-line: {usage}
- TODO/FIXME: {usage}

---

*Update these conventions as the codebase evolves.*
```

Replace {placeholders} with discovered patterns from analysis.
